{"version":3,"sources":["../src/Library.js"],"names":["Library","client","data","Object","defineProperty","value","_assignAttributes","downloadUrl","links","download","attributes","reject","Error","downloadFile"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;IAIqBA,O;AACpB,kBAAYC,MAAZ,EAAoBC,IAApB,EAA0B;AAAA;;AACzB;AACAC,SAAOC,cAAP,CAAsB,IAAtB,EAA4B,QAA5B,EAAsC,EAAEC,OAAOJ,MAAT,EAAtC;AACA,OAAKK,iBAAL,CAAuBJ,IAAvB;AACA,OAAKK,WAAL,GAAmBL,KAAKM,KAAL,IAAcN,KAAKM,KAAL,CAAWC,QAA5C;AACA;;;;oCAEiBP,I,EAAM;AACvB,yBAAc,IAAd,EAAoBA,KAAKQ,UAAzB;AACA;;AAGD;;;;;;;6BAIW;AACV,OAAI,CAAC,KAAKH,WAAV,EAAuB;AACtB,WAAO,kBAAQI,MAAR,CAAe,IAAIC,KAAJ,CAAU,kCAAV,CAAf,CAAP;AACA;AACD,UAAO,KAAKX,MAAL,CAAYY,YAAZ,CAAyB,KAAKN,WAA9B,CAAP;AACA;;AAED;;;;;;kBAxBoBP,O","file":"Library.js","sourcesContent":["/* Library\n * Represents a version of a library contributed in the cloud.\n */\n\nexport default class Library {\n\tconstructor(client, data) {\n\t\t// Make client non-enumerable so it doesn't show up in Object.keys, JSON.stringify, etc\n\t\tObject.defineProperty(this, 'client', { value: client });\n\t\tthis._assignAttributes(data);\n\t\tthis.downloadUrl = data.links && data.links.download;\n\t}\n\n\t_assignAttributes(data) {\n\t\tObject.assign(this, data.attributes);\n\t}\n\n\n\t/**\n\t * Download the compressed file containing the source code for this library version.\n\t * @return {Promise} Resolves to the .tar.gz compressed source code\n\t */\n\tdownload() {\n\t\tif (!this.downloadUrl) {\n\t\t\treturn Promise.reject(new Error('No download URL for this library'));\n\t\t}\n\t\treturn this.client.downloadFile(this.downloadUrl);\n\t}\n\n\t/* TODO: add a versions() method to fetch an array of library objects */\n}\n"]}